!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Vidage=t()}(this,(function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var n=e(t((function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0}))),o=e(t((function(e){function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e},e.exports.default=e.exports,e.exports.__esModule=!0})));function r(e,t,n){var o,r,i,a,u;function l(){var s=Date.now()-a;s<t&&s>=0?o=setTimeout(l,t-s):(o=null,n||(u=e.apply(i,r),i=r=null))}null==t&&(t=100);var s=function(){i=this,r=arguments,a=Date.now();var s=n&&!o;return o||(o=setTimeout(l,t)),s&&(u=e.apply(i,r),i=r=null),u};return s.clear=function(){o&&(clearTimeout(o),o=null)},s.flush=function(){o&&(u=e.apply(i,r),i=r=null,clearTimeout(o),o=null)},s}r.debounce=r;var i=r,a={helperClass:"vidage-ready",videoRemoval:!1};function u(e,t){if(void 0===e)throw new Error("".concat(t," requires a video selector as first argument."));if("video"!==(e="string"==typeof e?document.querySelector(e):e).nodeName.toLowerCase())throw new Error("".concat(t," requires a valid video selector. You passed a <").concat(e.nodeName,">"));return e}return function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,e),this.options=Object.assign(a,o),this._name=this.constructor.name,this.element=u(t,this._name),this.init()}return o(e,[{key:"init",value:function(){var e=this;this.element.readyState>=this.element.HAVE_FUTURE_DATA?this.handler():this.element.addEventListener("canplay",(function(){e.handler()})),window.addEventListener("resize",i((function(){e.handler()}),250))}},{key:"handler",value:function(){var e,t=document.body;this.options.videoRemoval&&(e=this.element,document.body.contains(e)||null.insertAdjacentElement("afterbegin",e)),this.element.play(),t.classList.add(this.options.helperClass)}}]),e}()}));
